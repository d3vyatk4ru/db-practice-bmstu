%%  A report on laboratory work 2.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage[2020-02-02]{latexrelease}

\documentclass[12pt,a4paper]{article}

%%  Стандартные языковые команды
\usepackage[cp1251]{inputenc}
\usepackage[russian]{babel}
%\usepackage[T2A]{fontenc}   %  это устанавливается авторматически

%%  Подключение стилевого файла отчета
\usepackage{kprj}

%%   Подключение пакета управления гиперссылками (только для pdftex)
\ifpdftex
   \usepackage[unicode=true]{hyperref}
   \hypersetup{pdfpagemode=UseNone, pdfstartview = FitR 0 0 200 1000}
   \BlackColorLinks
\fi

%%%  Для подключения рисунков (разные форматы при разном компилировании)
\ifpdftex
  % pdftex понимает форматы рисунков PNG, JPEG, PDF
  \DeclareGraphicsExtensions{.pdf}
\else
  % При создании DVI возможны практически все форматы, но EPS предпочтительнее
  \DeclareGraphicsExtensions{.eps}
\fi


%%%    Тип работы
\LabWork                      %   тип документа -- лабораторная работа
\LabWorkNo{1}                 %   номер лабораторной работы
%\variant{17}                   %   вариант лабораторной
%\KursWork
%\KursProject
%\NIR
%\VKR
%\NKR


%%%  Данные для оформления

\author{Д.Д.~Девяткин}                     %   автор
%\authorfull{Курош Владимир Витальевич}  %   автор -- Фамилия, Имя, Отчество
\workyear{2022}                         %   год выполнения работы
\title{Модель entity relation}   %  название
\discipline{Практикум по базам данных}              %  учебная дисциплина
\group{ФН12-21М}                         %   группа
\faculty{Фундаментальные науки}         %   Факультет
%\facultyshort{ФН}                       %   Факультет -- аббревиатура
\chair{Математическое моделирование}    %   кафедра
%\chairno{ФН-12}                         %   кафедра -- аббревиатура
%\chairhead{А.П.~Крищенко}               %   зав. кафедрой
\chief{И.Э.~Вишняков}                     %   Руководитель работы
%\consultant{А.В.~Макаренко}               %   Консультант (если нужно)
% \inspector{Б.О.~Волков}                 %   Нормоконтролер
%\trend{учебная}                         %   Направление работы (указывается в задании)
%\themesource{кафедра}                   %   Источник темы (указывается в задании)

\equationnumbering{section}             %   если нумерация формул в пределах раздела (иначе единая нумерация)
%\figurenumbering{section}              %   (аналогично для рисунков)
%%%   Оформление содержания, в текст вставлять командой \tableofcontents
%\SkipContentsbreak                     %   Подавление разрыва страницы после содержания
%\setcontentsname{Оглавление}           %   Заголовок содержания
%\def\contsectionfont{\bfseries}        %   шрифт для разделов в содержании
%\def\contsubsectionfont{\sf}           %   шрифт для подразделов в содержании
%\setcounter{secnumdepth}{1}            %   глубина заголовков в содержании

\begin{document}

%%%   Формирование титульного листа
\maketitle
%  Для формирования содержания
\tableofcontents

\section{Постановка задачи}
Целью данной лабораторной работы является изучение метода моделирования данных «сущность-связь» и реализация этой модели.

Для решения этой задачи, еобходимо сделать следующее:

\begin{enumerate}
	\item выбрать предметную область, соответствующую 4-5 сущностям;
	\item cформировать требования к предметной области;
	\item cоздать модель «сущность-связь» для предметной области с
обоснованием выбора кардинальных чисел связей.

\end{enumerate}

\section{Релизация}

В качестве предметной области была выбрана область авиарейсов. Данная область подразумевает взаимодействие покупателей авиабилетов и рейса с авиабилетами. Так же у каждого рейса имеется своя модель самолета. В связи с этим к предметной области были сформулированы следующие требования:

\begin{enumerate}
	\item покупатель может купить 1 или несколько авиабилетов;
	\item у авиабилета может быть только 1 владелец;
	\item у авиабилета может быть только 1 рейс, но у рейса может быть несколько авиабилетов;
	\item в рейсе может участвовать только 1 самолет.
\end{enumerate}

На основе описанной предметной области была синтезирована модель «сущность-связь» (рис. 1), включающая 4 сущности:

\begin{itemize}
	\item Customer -- сущность, являющаяся абстракцией покупателя авиабилета, с идентификатором passport\_customer (паспорт клиент) и атрибутами: email (электронная почта покупателя), first\_name (имя покупателя) и last\_name (фамилия покупателя).
	\item Tickets --  сущность, являющаяся абстракцией авиабилета с идентификаторами ticket\_id (номер билета), seat\_id (номер места в самолете), passport\_ticket (паспорт держателя билета). Атрибутами являются first\_name (имя покупателя) и last\_name (фамилия покупателя). 
	\item Flights -- сущность, определяющая рейс. Идентификатором является номер (flight\_id) и дата (date) полета. Атрибуты сущности: аэропорт прилета (departure\_airport), arrival\_airport (аэропорт вылета), status (статус рейса) и amount (количество купленных билетов на рейс).
	
	\item Aircrafts -- сущность, представляющая абстракцию самолета. Идентификатором является aircraft\_id (номер самолета), атрибутом model (модель самолета).

\end{itemize}
\begin{figure}[h!]
  \centerline{\includegraphics[scale=0.63]{db-bmstu.png}}
  \vskip2mm
  \caption{ER модель.}\label{er_model}
\end{figure}

Между описанными сущностями были построены связи, согласующиеся с
принципами предметной области, описанными ранее. описанными ранее. Так как каждый покупатель может купить билеты на разных людей, но у каждого
билета должен быть только один владелец, то связь сущностей Customer и Tickets «один-ко-многим», а минимальные и максимальные кардинальные числа равны 1:1 и 0:N. Аналогичная связь между сущностями Aircrafts и Aircrafts, так как одному рейсу обязательно соответствует единственный самолет, но для каждого самолета может быть реализовано несколько полетов. Между сущностями Flights и Tickets так же связь «один-ко-многим», однако кардинальные числа равны 1:1 и 1:N, так билету должен быть присвоен 1 и только 1 рейс, а у рейса может быть 1 или более авиабилетов.


\end{document}

